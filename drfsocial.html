<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DRF Social Feed</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <h1>DRF Social</h1>

  <div class="social-wrapper">

    <!-- Create Post Section -->
    <div class="create-post-box">
      <textarea id="postText" placeholder="What's on your mind?"></textarea>
      <input type="file" id="postMedia" accept="image/*,video/*" />
      <button class="create-post-btn" onclick="createPost()">Post</button>
    </div>

    <!-- Posts Feed -->
    <div id="postsFeed">
      <!-- Dynamic posts go here -->
    </div>

    <div class="loader" id="loadingMore" style="display: none;">
      <div class="spinner"></div>
      <p>Loading more posts...</p>
    </div>

  </div>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <a class="tab-item" href="dashboard.html"><img src="icons/home.svg" alt="">Home</a>
    <a class="tab-item" href="wallet.html"><img src="icons/wallet.svg" alt="">Wallet</a>
    <a class="tab-item" href="swap.html"><img src="icons/swap.svg" alt="">Swap</a>
    <a class="tab-item" href="token sale.html"><img src="icons/token.svg" alt="">Sale</a>
    <a class="tab-item" href="drf-social.html"><img src="icons/social.svg" alt="">Social</a>
  </div>

  <script src="app.js"></script>
  <script>
    const postsFeed = document.getElementById('postsFeed');

    function createPost() {
      const text = document.getElementById('postText').value.trim();
      const mediaFile = document.getElementById('postMedia').files[0];

      if (!text && !mediaFile) {
        alert("Please enter text or choose a media file.");
        return;
      }

      const postElement = document.createElement('div');
      postElement.className = 'post';

      postElement.innerHTML = `
        <div class="post-header">
          <img src="icons/profile.png" alt="User" />
          <strong>You</strong>
        </div>
        <div class="post-text">${text}</div>
        ${mediaFile ? getMediaPreview(mediaFile) : ''}
        <div class="reactions">
          <button onclick="alert('Liked!')">‚ù§Ô∏è</button>
          <button onclick="alert('Cool!')">üî•</button>
          <button onclick="alert('Clap!')">üëè</button>
        </div>
        <div class="comment-box">
          <input type="text" placeholder="Write a comment..." />
          <button>Post</button>
        </div>
      `;

      postsFeed.prepend(postElement);

      document.getElementById('postText').value = '';
      document.getElementById('postMedia').value = '';
    }

    function getMediaPreview(file) {
      const url = URL.createObjectURL(file);
      const ext = file.name.split('.').pop().toLowerCase();
      if (['jpg', 'jpeg', 'png', 'gif'].includes(ext)) {
        return `<div class="post-media"><img src="${url}" /></div>`;
      } else if (['mp4', 'webm', 'ogg'].includes(ext)) {
        return `<div class="post-media"><video src="${url}" controls></video></div>`;
      }
      return '';
    }

    // Optional: Load sample posts or from storage later
  </script>
</body>
</html>
