<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Public Profile & Posts - DRF Social</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <h1>DRF Public Profile & Posts</h1>

  <div id="profile-container">
    <section id="profile-form-section">
      <h2>Create / Edit Profile</h2>
      <form id="profile-form">
        <label>
          Profile Photo (jpg/png):
          <input type="file" id="profilePhoto" accept="image/*" />
        </label><br/>

        <label>
          Name:
          <input type="text" id="name" required />
        </label><br/>

        <label>
          Wallet Address (required):
          <input type="text" id="wallet" required />
        </label><br/>

        <label>
          Country:
          <input type="text" id="country" />
        </label><br/>

        <label>
          Gender:
          <select id="gender">
            <option value="">Select</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
          </select>
        </label><br/>

        <label>
          Age:
          <input type="number" id="age" min="0" max="120" />
        </label><br/>

        <button type="submit">Save Profile</button>
      </form>
    </section>

    <section id="profile-display-section" style="display:none;">
      <h2>Public Profile</h2>
      <img id="profilePhotoDisplay" src="" alt="Profile Photo" style="max-width:150px; max-height:150px;" />
      <p><strong>Name:</strong> <span id="displayName"></span></p>
      <p><strong>Wallet:</strong> <span id="displayWallet"></span></p>
      <p><strong>Country:</strong> <span id="displayCountry"></span></p>
      <p><strong>Gender:</strong> <span id="displayGender"></span></p>
      <p><strong>Age:</strong> <span id="displayAge"></span></p>
    </section>
  </div>

  <hr/>

  <div id="posts-container" style="display:none;">
    <h2>Posts Timeline</h2>

    <section id="post-form-section">
      <h3>Create a Post</h3>
      <form id="post-form">
        <label>
          Text:
          <textarea id="postText" rows="3" maxlength="500" placeholder="Write something..."></textarea>
        </label><br/>

        <label>
          Image/Video (optional):
          <input type="file" id="postMedia" accept="image/*,video/*" />
        </label><br/>

        <button type="submit">Post</button>
      </form>
    </section>

    <section id="posts-list">
      <!-- Posts will be rendered here -->
    </section>
  </div>

  <script type="module">
    import { appInit } from './app.js';
    appInit();
  </script>
</body>
</html>
