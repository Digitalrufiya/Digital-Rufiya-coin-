<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Swap - DRF Wallet</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
</head>
<body class="wallet-page">
  <header>
    <img src="https://ik.imagekit.io/ttbbg9ocv/1000000655.jpg?updatedAt=1745663093226" class="wallet-logo" alt="DRF Wallet">
    <h1>DRF Wallet Swap</h1>
    <button onclick="goBack()">Back to Wallet</button>
  </header>

  <main class="swap-container">
    <h2>Swap Tokens (powered by PancakeSwap)</h2>
    
    <div class="swap-box">
      <label for="fromToken">From Token:</label>
      <select id="fromToken">
        <option value="BNB">BNB</option>
        <option value="DRF">DRF</option>
        <option value="USDT">USDT</option>
        <option value="USDC">USDC</option>
      </select>

      <label for="toToken">To Token:</label>
      <select id="toToken">
        <option value="DRF">DRF</option>
        <option value="BNB">BNB</option>
        <option value="USDT">USDT</option>
        <option value="USDC">USDC</option>
      </select>

      <label for="amount">Amount:</label>
      <input type="number" id="amount" placeholder="Enter amount to swap">

      <button onclick="redirectToPancakeSwap()">Swap Now</button>
    </div>
  </main>

  <script>
    const tokens = {
      BNB: { address: 'BNB' }, // BNB native
      DRF: { address: '0x7788a60dbC85AB46767F413EC7d51F149AA1bec6' },
      USDT: { address: '0x55d398326f99059fF775485246999027B3197955' },
      USDC: { address: '0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d' },
    };

    function redirectToPancakeSwap() {
      const from = document.getElementById('fromToken').value;
      const to = document.getElementById('toToken').value;
      const amount = document.getElementById('amount').value;

      if (from === to) {
        alert('Cannot swap same token!');
        return;
      }

      let url = `https://pancakeswap.finance/swap?`;

      if (from === 'BNB') {
        url += `outputCurrency=${tokens[to].address}`;
      } else if (to === 'BNB') {
        url += `inputCurrency=${tokens[from].address}`;
      } else {
        url += `inputCurrency=${tokens[from].address}&outputCurrency=${tokens[to].address}`;
      }

      window.open(url, '_blank');
    }

    function goBack() {
      window.location.href = "wallet.html";
    }
  </script>

</body>
</html>
