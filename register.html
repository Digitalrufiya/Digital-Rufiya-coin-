function register() {
    const username = document.getElementById('registerUsername').value.trim();
    const password = document.getElementById('registerPassword').value.trim();

    if (!username || !password) {
        alert("Please fill all fields!");
        return;
    }

    // Prevent user from registering with admin email
    if (username === "digitalrufiya@gmail.com") {
        alert("You cannot register using Admin email!");
        return;
    }

    const users = JSON.parse(localStorage.getItem('users')) || [];

    // Check if username already exists
    const existingUser = users.find(user => user.username === username);

    if (existingUser) {
        alert("Username already exists! Please choose another.");
        return;
    }

    const newUser = {
        username: username,
        password: password,
        walletAddress: ""  // optional for now
    };

    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));

    alert("Registration successful! Please login now.");
    window.location.href = "index.html"; // back to login page
}
