<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DRF Web3 Wallet</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <header>
    <img src="logo.png" alt="DRF Logo" height="40" style="vertical-align: middle;" />
    <h1>DRF Web3 Wallet</h1>
    <p id="wallet-status">Connect your wallet to get started</p>
    <button id="connectButton">Connect Wallet</button>
  </header>

  <main>
    <p id="wallet-address">Not Connected</p>
  </main>

  <footer>
    <p>&copy; 2025 DRF Wallet â€” Powered by Binance Smart Chain.</p>
  </footer>

  <script>
    const connectButton = document.getElementById('connectButton');
    const walletStatus = document.getElementById('wallet-status');
    const walletAddress = document.getElementById('wallet-address');

    async function connectWallet() {
      try {
        if (!window.ethereum) {
          alert('MetaMask or Web3 wallet not found. Please install MetaMask.');
          console.error('window.ethereum is not available');
          return;
        }

        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = provider.getSigner();
        const address = await signer.getAddress();

        walletStatus.textContent = "Wallet connected";
        walletAddress.textContent = address;
        console.log("Connected address:", address);
      } catch (err) {
        console.error("Connection failed:", err);
        alert('Failed to connect wallet. See console for error.');
      }
    }

    connectButton.addEventListener('click', connectWallet);
  </script>
</body>
</html>
